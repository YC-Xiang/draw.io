<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36" version="26.1.3">
  <diagram name="Page-1" id="xT4g7U_Jw4E_WV42EY2E">
    <mxGraphModel dx="1252" dy="1802" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="tSgKq8Jf324wVoimvzdk-1" value="&lt;h1&gt;第一次commit:&lt;/h1&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="110" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-2" value="&lt;div style=&quot;color: #383a42;background-color: #f5f5f5;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #4078f2;&quot;&gt;drm_atomic_state_alloc&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="190" width="180" height="35" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-3" value="每一次commit都创建一个struct drm_atomic_state" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="230" y="150" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-4" target="tSgKq8Jf324wVoimvzdk-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-4" target="tSgKq8Jf324wVoimvzdk-45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-4" value="&lt;div style=&quot;color: rgb(56, 58, 66); background-color: rgb(245, 245, 245); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot;&gt;drm_atomic_set_property&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="270" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-5" target="tSgKq8Jf324wVoimvzdk-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-5" target="tSgKq8Jf324wVoimvzdk-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-5" value="&lt;div style=&quot;color: #383a42;background-color: #f5f5f5;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #4078f2;&quot;&gt;drm_mode_atomic_ioctl&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="30" y="220" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-9" target="tSgKq8Jf324wVoimvzdk-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-9" target="tSgKq8Jf324wVoimvzdk-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-9" value="&lt;div style=&quot;color: #383a42;background-color: #f5f5f5;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #4078f2;&quot;&gt;drm_atomic_get_crtc_state&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="470" y="270" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-11" value="&lt;div style=&quot;color: rgb(56, 58, 66); background-color: rgb(245, 245, 245); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0, 175, 175);&quot;&gt;&lt;span style=&quot;background-color: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); color: rgb(228, 86, 73);&quot;&gt;crtc_state&lt;/span&gt;&lt;span style=&quot;background-color: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); color: light-dark(rgb(56, 58, 66), rgb(185, 187, 194));&quot;&gt; &lt;/span&gt;&lt;span style=&quot;background-color: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); color: light-dark(rgb(56, 58, 66), rgb(185, 187, 194));&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;background-color: light-dark(rgb(245, 245, 245), rgb(26, 26, 26)); color: light-dark(rgb(56, 58, 66), rgb(185, 187, 194));&quot;&gt; &lt;/span&gt;crtc&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;funcs&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;atomic_duplicate_state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 175, 175);&quot;&gt;crtc&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="710" y="240" width="420" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-15" target="tSgKq8Jf324wVoimvzdk-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-15" value="&lt;div style=&quot;color: #383a42;background-color: #f5f5f5;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #4078f2;&quot;&gt;drm_mode_config_reset&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="-30" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-16" target="tSgKq8Jf324wVoimvzdk-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-16" value="&lt;div style=&quot;color: rgb(56, 58, 66); background-color: rgb(245, 245, 245); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;plane/crtc/encoder/connector&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;funcs&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;reset&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="260" y="-30" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-24" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-21" target="tSgKq8Jf324wVoimvzdk-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-21" value="&lt;div style=&quot;color: #383a42;background-color: #f5f5f5;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #4078f2;&quot;&gt;__drm_atomic_helper_crtc_reset&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="630" y="-30" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-23" value="&lt;div style=&quot;color: #383a42;background-color: #f5f5f5;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #00afaf;&quot;&gt;crtc&lt;/span&gt;&lt;span style=&quot;color: #383a42;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #e45649;&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: #383a42;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #383a42;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #383a42;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #00afaf;&quot;&gt;crtc_state&lt;/span&gt;&lt;span style=&quot;color: #383a42;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="920" y="-30" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-25" value="crtc-&amp;gt;state初始化一开始为空" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="900" y="-60" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-27" value="&lt;div style=&quot;color: rgb(56, 58, 66); background-color: rgb(245, 245, 245); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0, 175, 175);&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;crtcs&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;index&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;].&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;crtc_state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0, 175, 175);&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;crtcs&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;index&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;].&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;old_state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 175, 175);&quot;&gt;crtc&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0, 175, 175);&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;crtcs&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;index&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;].&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;new_state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;crtc_state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="710" y="290" width="340" height="70" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-29" value="&lt;h1&gt;第二次commit:&lt;/h1&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="30" y="610" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-30" value="&lt;div style=&quot;color: #383a42;background-color: #f5f5f5;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #4078f2;&quot;&gt;drm_atomic_state_alloc&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="690" width="180" height="35" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-33" target="tSgKq8Jf324wVoimvzdk-39">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-33" value="&lt;div style=&quot;color: rgb(56, 58, 66); background-color: rgb(245, 245, 245); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot;&gt;drm_atomic_set_property&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="770" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-36" target="tSgKq8Jf324wVoimvzdk-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-36" target="tSgKq8Jf324wVoimvzdk-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-36" value="&lt;div style=&quot;color: #383a42;background-color: #f5f5f5;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #4078f2;&quot;&gt;drm_mode_atomic_ioctl&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="30" y="720" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-39" target="tSgKq8Jf324wVoimvzdk-42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-39" value="&lt;div style=&quot;color: #383a42;background-color: #f5f5f5;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #4078f2;&quot;&gt;drm_atomic_get_crtc_state&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="450" y="770" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-42" value="&lt;div style=&quot;color: #383a42;background-color: #f5f5f5;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #a626a4;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;color: #383a42;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #00afaf;&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: #383a42;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #e45649;&quot;&gt;crtcs&lt;/span&gt;&lt;span style=&quot;color: #383a42;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #4078f2;&quot;&gt;drm_crtc_index&lt;/span&gt;&lt;span style=&quot;color: #383a42;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #00afaf;&quot;&gt;crtc&lt;/span&gt;&lt;span style=&quot;color: #383a42;&quot;&gt;)].&lt;/span&gt;&lt;span style=&quot;color: #e45649;&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: #383a42;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="690" y="767" width="370" height="35" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-44" value="第一次commit的时候这三个state内容一样" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="710" y="271" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-48" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-45" target="tSgKq8Jf324wVoimvzdk-47">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-45" value="&lt;div style=&quot;color: #383a42;background-color: #f5f5f5;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #4078f2;&quot;&gt;drm_atomic_crtc_set_property&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="470" y="380" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-47" value="修改state-&amp;gt;crtc[i].state和new_state" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="730" y="380" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-54" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-49" target="tSgKq8Jf324wVoimvzdk-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-49" target="tSgKq8Jf324wVoimvzdk-56">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-49" value="&lt;div style=&quot;color: #383a42;background-color: #f5f5f5;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #4078f2;&quot;&gt;drm_atomic_helper_swap_state&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="380" y="470" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="tSgKq8Jf324wVoimvzdk-50" target="tSgKq8Jf324wVoimvzdk-49">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-50" value="&lt;div style=&quot;color: #383a42;background-color: #f5f5f5;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #4078f2;&quot;&gt;drm_atomic_helper_commit&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="160" y="470" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-52" value="&lt;h1&gt;第三次commit:&lt;/h1&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="30" y="890" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-53" value="&lt;div style=&quot;color: rgb(56, 58, 66); background-color: rgb(245, 245, 245); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(166, 38, 164);&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;!&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;commit&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(166, 38, 164);&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;continue&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="650" y="460" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-55" value="这时候old_crtc_state-&amp;gt;commit为空" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="630" y="440" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="tSgKq8Jf324wVoimvzdk-56" value="&lt;div style=&quot;color: rgb(56, 58, 66); background-color: rgb(245, 245, 245); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;old_crtc_state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 175, 175);&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;new_crtc_state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(172, 166, 0);&quot;&gt;NULL&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0, 175, 175);&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;crtcs&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;i&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;].&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;old_crtc_state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;crtc&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(228, 86, 73);&quot;&gt;new_crtc_state&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="660" y="525" width="310" height="105" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
